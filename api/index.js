const axios = require("axios");

function request(data, headers) {
  return axios({
    url: "https://api.github.com/graphql",
    method: "post",
    headers,
    data,
  });
}

export default (req, res) => {
  res.statusCode = 200
  res.setHeader("Content-Type", "image/svg+xml");

  try{
    res.send(`

<?xml version="1.0" encoding="UTF-8"?>
<svg width="731px" height="194px" viewBox="0 0 731 194" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch -->
    <title>Page 1</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <polygon id="path-1" points="0.00029372003 0.749 232.5685 0.749 232.5685 191.1868 0.00029372003 191.1868"></polygon>
        <polygon id="path-3" points="0.3073 0.749 131.0043 0.749 131.0043 193.9998 0.3073 193.9998"></polygon>
        <polygon id="path-5" points="0 194.251 730.732 194.251 730.732 1 0 1"></polygon>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g transform="translate(0.000000, -1.000000)">
            <g id="Group-3" transform="translate(0.000000, 0.251000)">
                <mask id="mask-2" fill="white">
                    <use xlink:href="#path-1"></use>
                </mask>
                <g id="Clip-2"></g>
                <path d="M204.1225,191.1868 L204.1225,99.7648 C204.1225,85.9818 199.8935,81.4808 194.1275,76.4178 C190.6675,73.3238 181.8275,67.4158 167.2195,67.4158 C158.7625,67.4158 148.3845,70.2288 141.8495,75.2918 C133.3925,81.7618 130.3165,87.6698 130.3165,103.1408 L130.3165,191.1868 L101.8715,191.1868 L101.8715,98.9208 C101.8715,88.5128 98.7955,81.7618 90.7235,75.5738 C86.8795,72.7608 78.8075,67.4158 64.9685,67.4158 C54.5905,67.4158 46.9015,70.5098 40.7515,74.4488 C28.8345,82.0428 28.0655,90.7638 28.0655,99.7648 L28.0655,191.1868 L0.0045,191.1868 L0.0045,61.5088 C0.0045,39.5678 -0.7635,29.1598 18.4555,14.5328 C26.9135,8.0628 43.4415,0.7488 63.8155,0.7488 C84.5725,0.7488 101.8715,7.2178 116.0945,19.5958 C132.6235,5.8128 148.7685,0.7488 169.9105,0.7488 C185.6705,0.7488 201.0465,5.2498 212.1945,13.4078 C231.4145,27.4718 232.5685,36.1918 232.5685,61.5088 L232.5685,191.1868 L204.1225,191.1868 Z" id="Fill-1" fill="#F15A49" mask="url(#mask-2)"></path>
            </g>
            <path d="M365.1796,180.1858 C349.0336,191.4378 334.8116,194.2508 317.5136,194.2508 C297.1396,194.2508 282.1486,186.6568 273.3066,180.4668 C253.3186,166.4028 252.9336,152.6188 252.9336,130.6778 L252.9336,3.8128 L280.9946,3.8128 L280.9946,88.7638 C280.9946,107.0478 282.9166,112.1128 293.6796,120.5508 C298.6776,124.4888 307.9036,128.1458 318.2816,128.1458 C332.1196,128.1458 339.8086,123.3648 343.6526,120.5508 C351.7246,114.3628 355.1846,109.5808 355.1846,88.2018 L355.1846,3.8128 L383.6306,3.8128 L383.6306,114.3628 C383.6306,158.2458 382.4776,168.0898 365.1796,180.1858" id="Fill-4" fill="#F15A49"></path>
            <g id="Group-8" transform="translate(401.000000, 0.251000)">
                <mask id="mask-4" fill="white">
                    <use xlink:href="#path-3"></use>
                </mask>
                <g id="Clip-7"></g>
                <path d="M111.3993,179.9348 C99.4833,188.9368 83.3383,193.9998 64.8873,193.9998 C46.8193,193.9998 29.5223,188.3728 17.9903,178.8098 C0.6923,164.7458 0.3073,147.5858 0.3073,129.8648 L0.3073,106.5158 L27.2153,106.5158 C32.2133,120.2998 41.8233,127.0508 57.5833,127.0508 C69.1163,127.0508 76.8043,123.3948 76.8043,116.9238 C76.8043,110.1728 70.6533,106.5158 55.2773,101.7348 C24.1403,91.8888 3.7673,80.0748 3.7673,51.6638 C3.7673,22.1268 29.1383,0.7478 65.6563,0.7478 C84.1073,0.7478 101.0213,6.0938 111.7843,14.8138 C124.0853,24.6588 127.9293,34.2228 127.9293,58.9778 L127.9293,82.8878 L99.8683,82.8878 C96.4083,72.1988 88.7203,67.4158 76.0343,67.4158 C65.6563,67.4158 59.8903,70.5098 59.8903,76.6998 C59.8903,85.1378 74.1123,87.6698 90.2573,92.4518 C118.7033,101.1718 131.0043,118.3308 131.0043,140.5538 C131.0043,156.8688 123.7003,170.6518 111.3993,179.9348" id="Fill-6" fill="#F15A49" mask="url(#mask-4)"></path>
            </g>
            <mask id="mask-6" fill="white">
                <use xlink:href="#path-5"></use>
            </mask>
            <g id="Clip-10"></g>
            <polygon id="Fill-9" fill="#F15A49" mask="url(#mask-6)" points="550.833 191.437 578.895 191.437 578.895 60.581 550.833 60.581"></polygon>
            <path d="M712.6654,179.9045 C694.5984,192.5625 676.9154,194.2515 665.3844,194.2515 C651.1614,194.2515 633.4784,189.7505 620.0244,180.7485 C605.4174,170.9025 600.4194,162.1825 600.4194,138.2725 L600.4194,55.8525 C600.4194,31.9425 603.8794,26.0355 618.4864,15.3455 C630.7884,6.3445 648.0854,0.9995 666.1524,0.9995 C684.2204,0.9995 701.1334,6.9065 709.9744,13.6585 C722.6604,23.2215 730.7324,27.1605 730.7324,54.7275 L730.7324,84.8265 L704.9774,84.8265 C699.2114,73.8555 684.2204,66.2605 666.9214,66.2605 C642.7044,66.2605 623.0994,79.7625 623.0994,97.2035 C623.0994,114.0815 640.7824,128.4265 666.1524,128.4265 C684.6034,128.4265 699.2114,120.5505 704.9774,108.7365 L730.7324,108.7365 L730.7324,140.2425 C730.7324,156.5565 726.8884,169.7775 712.6654,179.9045" id="Fill-11" fill="#F15A49" mask="url(#mask-6)"></path>
            <path d="M588.2001,24.3352 C588.2001,11.4472 577.7521,0.9992 564.8641,0.9992 C551.9761,0.9992 541.5281,11.4472 541.5281,24.3352 C541.5281,37.2242 551.9761,47.6712 564.8641,47.6712 C577.7521,47.6712 588.2001,37.2242 588.2001,24.3352" id="Fill-12" fill="#F15A49" mask="url(#mask-6)"></path>
        </g>
    </g>
</svg>      
    `);
  }
  catch(err){
    return res.send(renderError(err.message, err.secondaryMessage));
  }
}
